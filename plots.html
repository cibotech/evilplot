<!DOCTYPE html><html><head><title>EvilPlot: Plotting</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="CiBO Technologies" /><meta name="description" content="Combinators for graphics" /><meta name="og:image" content="/evilplot/img/poster.png" /><meta name="image" property="og:image" content="/evilplot/img/poster.png" /><meta name="og:title" content="EvilPlot: Plotting" /><meta name="title" property="og:title" content="EvilPlot: Plotting" /><meta name="og:site_name" content="EvilPlot" /><meta name="og:url" content="" /><meta name="og:type" content="website" /><meta name="og:description" content="Combinators for graphics" /><link rel="icon" type="image/png" href="/evilplot/img/favicon.png" /><meta name="twitter:title" content="EvilPlot: Plotting" /><meta name="twitter:image" content="/evilplot/img/poster.png" /><meta name="twitter:description" content="Combinators for graphics" /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/evilplot/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/evilplot/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/evilplot/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/evilplot/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/evilplot/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/evilplot/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/evilplot/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/evilplot/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/evilplot/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/evilplot/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/evilplot/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/evilplot/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/evilplot/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/evilplot/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/evilplot/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/evilplot/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/evilplot/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/evilplot/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/evilplot/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/evilplot/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/evilplot/highlight/styles/vs.css" /><link rel="stylesheet" href="/evilplot/css/pattern-style.css" /><link rel="stylesheet" href="/evilplot/css/custom.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/evilplot/" class="brand"><div class="brand-wrapper"><span>EvilPlot</span></div></a></li> <li><a href="/evilplot/" class="">Home</a></li> <li><a href="/evilplot/index.html" class=""></a></li> <li><a href="/evilplot/getting-started.html" class="">Getting Started</a></li> <li><a href="/evilplot/plots.html" class=" active ">Plotting</a></li> <li><a href="/evilplot/drawing-api.html" class="">Drawing API</a></li> <li><a href="/evilplot/custom-renderers.html" class="">Custom Renderers</a></li> <li><a href="/evilplot/custom-components.html" class="">Custom Components</a></li> <li><a href="/evilplot/colors.html" class="">Colors</a></li> <li><a href="/evilplot/render-context.html" class="">Render Contexts</a></li> <li><a href="/evilplot/plot-catalog.html" class="">Plot Catalog</a></li></ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li class="search-nav hidden-xs hidden-sm"><div id="search-dropdown"><label><i class="fa fa-search"></i>Search</label><input id="search-bar" type="text" placeholder="Enter keywords here..." onclick="displayToggleSearch(event)" /><ul id="search-dropdown-content" class="dropdown dropdown-content"></ul></div></li><li id="gh-eyes-item" class="hidden-xs to-uppercase"><a href="https://github.com/cibotech/evilplot" target="_blank" rel="noopener noreferrer"><i class="fa fa-eye"></i><span>Watchers<span id="eyes" class="label label-default">--</span></span></a></li><li id="gh-stars-item" class="hidden-xs to-uppercase"><a href="https://github.com/cibotech/evilplot" target="_blank" rel="noopener noreferrer"><i class="fa fa-star-o"></i><span>Stars<span id="stars" class="label label-default">--</span></span></a></li></ul></div></div></div></div><div id="content" data-github-owner="cibotech" data-github-repo="evilplot"><div class="content-wrapper"><section><h1 id="plots">Plots</h1>

<p>In the last section, we made a simple scatter plot using a built-in plot method in EvilPlot. In this section, we’re
going to explore some more built-in plots.</p>

<h2 id="scatterplot-the-whole-story"><code class="highlighter-rouge">ScatterPlot</code>: The Whole Story</h2>

<p>If we take a look at the method signature for <code class="highlighter-rouge">ScatterPlot.apply</code>, we see it takes more than just data:</p>
<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">object</span> <span class="nc">ScatterPlot</span> <span class="o">{</span>

  <span class="k">def</span> <span class="nf">apply</span><span class="o">[</span><span class="kt">X</span> <span class="k">&lt;:</span> <span class="kt">Datum2d</span><span class="o">[</span><span class="kt">X</span><span class="o">]](</span>   <span class="c1">// Point extends Datum2d[Point]</span>
    <span class="n">data</span><span class="k">:</span> <span class="kt">Seq</span><span class="o">[</span><span class="kt">X</span><span class="o">],</span>
    <span class="n">pointRenderer</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">PointRenderer</span><span class="o">[</span><span class="kt">X</span><span class="o">]]</span> <span class="k">=</span> <span class="nc">None</span><span class="o">,</span>
    <span class="n">xBoundBuffer</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">Double</span><span class="o">]</span> <span class="k">=</span> <span class="nc">None</span><span class="o">,</span>
    <span class="n">yBoundBuffer</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">Double</span><span class="o">]</span> <span class="k">=</span> <span class="nc">None</span>
  <span class="o">)(</span><span class="k">implicit</span> <span class="n">theme</span><span class="k">:</span> <span class="kt">Theme</span><span class="o">)</span><span class="k">:</span> <span class="kt">Plot</span> <span class="o">=</span> <span class="o">???</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Before, we passed the defaults for all parameters in <code class="highlighter-rouge">ScatterPlot</code> and let our theme determine how things looked.
But what if we want to color each point differently depending on the value of another variable? That’s where the
<code class="highlighter-rouge">pointRenderer</code> argument comes in.</p>

<p>A <code class="highlighter-rouge">PointRenderer</code> tells your plot how to draw the data. When we don’t pass one into <code class="highlighter-rouge">ScatterPlot</code>, we use
<code class="highlighter-rouge">PointRenderer.default()</code>, which plots each item in the <code class="highlighter-rouge">data</code> sequence as a disc filled with the color in
<code class="highlighter-rouge">theme.colors.fill</code>. But, there are a bunch more <a href="/evilplot/scaladoc/jvm/com/cibo/evilplot/plot/renderers/PointRenderer$.html"><code class="highlighter-rouge">PointRenderer</code>s to choose from</a>.</p>

<div class="row">
<div class="col-md-6">

    <div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">com.cibo.evilplot.numeric.Point</span>
<span class="k">import</span> <span class="nn">com.cibo.evilplot.plot._</span>
<span class="k">import</span> <span class="nn">com.cibo.evilplot.plot.renderers.PointRenderer</span>
<span class="k">import</span> <span class="nn">com.cibo.evilplot.plot.aesthetics.DefaultTheme._</span>
<span class="k">import</span> <span class="nn">scala.util.Random</span>

<span class="k">val</span> <span class="nv">qualities</span> <span class="k">=</span> <span class="nc">Seq</span><span class="o">(</span><span class="s">"good"</span><span class="o">,</span> <span class="s">"bad"</span><span class="o">)</span>

<span class="k">final</span> <span class="k">case</span> <span class="k">class</span> <span class="nc">MyFancyData</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span> <span class="n">quality</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">data</span><span class="k">:</span> <span class="kt">Seq</span><span class="o">[</span><span class="kt">MyFancyData</span><span class="o">]</span> <span class="k">=</span> <span class="nv">Seq</span><span class="o">.</span><span class="py">fill</span><span class="o">(</span><span class="mi">100</span><span class="o">)</span> <span class="o">{</span>
  <span class="nc">MyFancyData</span><span class="o">(</span><span class="nv">Random</span><span class="o">.</span><span class="py">nextDouble</span><span class="o">(),</span> <span class="nv">Random</span><span class="o">.</span><span class="py">nextDouble</span><span class="o">(),</span> <span class="nf">qualities</span><span class="o">(</span><span class="nv">Random</span><span class="o">.</span><span class="py">nextInt</span><span class="o">(</span><span class="mi">2</span><span class="o">)))</span>
<span class="o">}</span>
<span class="k">val</span> <span class="nv">points</span> <span class="k">=</span> <span class="nv">data</span><span class="o">.</span><span class="py">map</span><span class="o">(</span><span class="n">d</span> <span class="k">=&gt;</span> <span class="nc">Point</span><span class="o">(</span><span class="nv">d</span><span class="o">.</span><span class="py">x</span><span class="o">,</span> <span class="nv">d</span><span class="o">.</span><span class="py">y</span><span class="o">))</span>

<span class="nc">ScatterPlot</span><span class="o">(</span>
  <span class="n">points</span><span class="o">,</span>
  <span class="n">pointRenderer</span> <span class="k">=</span> <span class="nc">Some</span><span class="o">(</span><span class="nv">PointRenderer</span><span class="o">.</span><span class="py">colorByCategory</span><span class="o">(</span><span class="nv">data</span><span class="o">.</span><span class="py">map</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">quality</span><span class="o">)))</span>
<span class="o">).</span><span class="py">xAxis</span><span class="o">()</span>
 <span class="o">.</span><span class="py">yAxis</span><span class="o">()</span>
 <span class="o">.</span><span class="py">frame</span><span class="o">()</span>
 <span class="o">.</span><span class="py">rightLegend</span><span class="o">()</span>
 <span class="o">.</span><span class="py">render</span><span class="o">()</span>
</code></pre></div>    </div>
  </div>
<div class="col-md-6">
  <img src="/evilplot/img/docs/plots/pointrenderer.png" class="img-responsive" />
</div>
</div>

<p>The <code class="highlighter-rouge">colorByCategory</code> point renderer handled our categories for us. You’ll notice we included a call to <code class="highlighter-rouge">.rightLegend()</code>
as well. The renderer is able to add our categories and their associated aesthetics to a context for a legend
automatically, so we get a legend that makes sense.</p>

<h2 id="overlaying">Overlaying</h2>

<p>EvilPlot takes an unusual approach to overlaying, in the spirit of building more complex visualizations out of simpler
ones. When you want to make a multilayered plot, just make a plot for each layer. We then give you a combinator,
<code class="highlighter-rouge">Overlay</code>, to compose all the plots into a meaningful composite.</p>

<p>Let’s take a look at some real world data. In its natural state, real world data can be hard to interpret and even harder
to put to use. We will use <a href="https://data.boston.gov/dataset/wicked-free-wi-fi-locations">Wicked Free WiFi</a>, a
public data set containing the latitude and longitude (columns X and Y respectively) coordinates of several free WiFi
hotspots in Boston. After downloading the CSV file, let’s parse the data into a <code class="highlighter-rouge">Seq[Points]</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">com.cibo.evilplot.numeric.Point</span>
<span class="k">import</span> <span class="nn">scala.collection.mutable.ArrayBuffer</span>
<span class="k">import</span> <span class="nn">scala.io.Source</span>

<span class="k">val</span> <span class="nv">path</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="c1">//Insert your path to saved CSV file</span>
 <span class="k">val</span> <span class="nv">data</span><span class="k">:</span> <span class="kt">Seq</span><span class="o">[</span><span class="kt">Point</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span>
    <span class="k">val</span> <span class="nv">bufferedSource</span> <span class="k">=</span> <span class="nv">Source</span><span class="o">.</span><span class="py">fromFile</span><span class="o">(</span><span class="n">path</span> <span class="o">+</span> <span class="s">"wifi.csv"</span><span class="o">)</span>
    <span class="k">val</span> <span class="nv">points</span> <span class="k">=</span> <span class="nv">bufferedSource</span><span class="o">.</span><span class="py">getLines</span><span class="o">.</span><span class="py">drop</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="py">map</span> <span class="o">{</span> <span class="n">line</span> <span class="k">=&gt;</span>
      <span class="k">val</span> <span class="nv">columns</span> <span class="k">=</span> <span class="nv">line</span><span class="o">.</span><span class="py">split</span><span class="o">(</span><span class="s">","</span><span class="o">).</span><span class="py">map</span><span class="o">{</span><span class="nv">_</span><span class="o">.</span><span class="py">trim</span><span class="o">()}</span>
      <span class="c1">//The coordinates are found in the first and second columns</span>
      <span class="nc">Point</span><span class="o">(</span><span class="nv">columns</span><span class="o">.</span><span class="py">head</span><span class="o">.</span><span class="py">toDouble</span><span class="o">,</span> <span class="nf">columns</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="py">toDouble</span><span class="o">)</span>
    <span class="o">}.</span><span class="py">toSeq</span>
    <span class="n">points</span>
  <span class="o">}</span>
</code></pre></div></div>

<p>Now that we have our data in a usable form, let’s make a contour plot to show the general density of free WiFi locations
throughout Boston:</p>

<div class="row">
<div class="col-md-6">
    <div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">com.cibo.evilplot.colors._</span>
<span class="k">import</span> <span class="nn">com.cibo.evilplot.plot._</span>

<span class="k">def</span> <span class="nf">contourPlot</span><span class="o">(</span><span class="n">seq</span><span class="k">:</span> <span class="kt">Seq</span><span class="o">[</span><span class="kt">Point</span><span class="o">])</span><span class="k">:</span> <span class="kt">Plot</span> <span class="o">=</span> <span class="o">{</span>
    <span class="nc">ContourPlot</span><span class="o">(</span>
      <span class="n">seq</span><span class="o">,</span>
      <span class="n">surfaceRenderer</span> <span class="k">=</span> <span class="nc">Some</span><span class="o">(</span><span class="nv">SurfaceRenderer</span><span class="o">.</span><span class="py">contours</span><span class="o">(</span>
        <span class="n">color</span> <span class="k">=</span> <span class="nc">Some</span><span class="o">(</span><span class="nv">HTMLNamedColors</span><span class="o">.</span><span class="py">dodgerBlue</span><span class="o">))</span>
      <span class="o">))</span>
<span class="o">}</span>

<span class="nf">contourPlot</span><span class="o">(</span><span class="n">data</span><span class="o">)</span>
    <span class="o">.</span><span class="py">xLabel</span><span class="o">(</span><span class="s">"Lon"</span><span class="o">)</span>
    <span class="o">.</span><span class="py">yLabel</span><span class="o">(</span><span class="s">"Lat"</span><span class="o">)</span>
    <span class="o">.</span><span class="py">xbounds</span><span class="o">(-</span><span class="mf">71.2</span><span class="o">,</span> <span class="o">-</span><span class="mi">71</span><span class="o">)</span>
    <span class="o">.</span><span class="py">ybounds</span><span class="o">(</span><span class="mf">42.20</span><span class="o">,</span> <span class="mf">42.4</span><span class="o">)</span>
    <span class="o">.</span><span class="py">xAxis</span><span class="o">()</span>
    <span class="o">.</span><span class="py">yAxis</span><span class="o">()</span>
    <span class="o">.</span><span class="py">frame</span><span class="o">()</span>
    <span class="o">.</span><span class="py">render</span><span class="o">()</span>
</code></pre></div>    </div>
  </div>
<div class="col-md-6">
<img src="/evilplot/img/docs/plots/contour.png" class="img-responsive" />
</div>
</div>

<p>How can we make use of this plot? To start, we can add points for reference using EvilPlot’s <code class="highlighter-rouge">Overlay</code>. Let’s add a
reference point at <code class="highlighter-rouge">(-71.081754, 42.3670272)</code>, the approximate location of CiBO’s Cambridge Office.</p>

<div class="row">
<div class="col-md-6">
    <div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Overlay</span><span class="o">(</span>
      <span class="nf">contourPlot</span><span class="o">(</span><span class="n">data</span><span class="o">),</span>
        <span class="nc">ScatterPlot</span><span class="o">(</span>
          <span class="nc">Seq</span><span class="o">(</span><span class="nc">Point</span><span class="o">(-</span><span class="mf">71.081754</span><span class="o">,</span><span class="mf">42.3670272</span><span class="o">)),</span>
          <span class="n">pointRenderer</span> <span class="k">=</span> <span class="nc">Some</span><span class="o">(</span><span class="nv">PointRenderer</span><span class="o">.</span><span class="py">default</span><span class="o">(</span><span class="n">color</span> <span class="k">=</span> <span class="nc">Some</span><span class="o">(</span><span class="nv">HTMLNamedColors</span><span class="o">.</span><span class="py">crimson</span><span class="o">))))</span>
      <span class="o">).</span><span class="py">xLabel</span><span class="o">(</span><span class="s">"Lon"</span><span class="o">)</span>
        <span class="o">.</span><span class="py">yLabel</span><span class="o">(</span><span class="s">"Lat"</span><span class="o">)</span>
        <span class="o">.</span><span class="py">xbounds</span><span class="o">(-</span><span class="mf">71.2</span><span class="o">,</span> <span class="o">-</span><span class="mi">71</span><span class="o">)</span>
        <span class="o">.</span><span class="py">ybounds</span><span class="o">(</span><span class="mf">42.20</span><span class="o">,</span> <span class="mf">42.4</span><span class="o">)</span>
        <span class="o">.</span><span class="py">xAxis</span><span class="o">()</span>
        <span class="o">.</span><span class="py">yAxis</span><span class="o">()</span>
        <span class="o">.</span><span class="py">frame</span><span class="o">()</span>
        <span class="o">.</span><span class="py">render</span><span class="o">()</span>
</code></pre></div>    </div>
  </div>
<div class="col-md-6">
<img src="/evilplot/img/docs/plots/withinitialpoint.png" class="img-responsive" />
</div>
</div>

<p>The Cambridge office location is just north of the central city of Boston, so this reference point serves as an easy
check to make sure that we rendered the plot rendered correctly. With <code class="highlighter-rouge">Overlay</code>, we don’t have to worry that the bounds of
our plots might not align–EvilPlot will take care of all of the necessary transformations for you.</p>

<h2 id="adding-side-plots">Adding side plots</h2>

<p>The contour plot gives us a good glimpse at the bivariate distribution. But, let’s say we were secondarily interested in
looking at the univariate distribution of each geographic coordinate. Of course, we <em>could</em> just make histograms.</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="nv">lonHistogram</span> <span class="k">=</span> <span class="nc">Histogram</span><span class="o">(</span><span class="nv">data</span><span class="o">.</span><span class="py">map</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">x</span><span class="o">))</span>
<span class="k">val</span> <span class="nv">latHistogram</span> <span class="k">=</span> <span class="nc">Histogram</span><span class="o">(</span><span class="nv">data</span><span class="o">.</span><span class="py">map</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">y</span><span class="o">))</span>
</code></pre></div></div>

<p>But we don’t have to stop at plotting these separately. EvilPlot will let us place plots in the margins of another plot
using a whole family of border plot combinators. If we take what we’d been working on from before:</p>

<div class="row">
<div class="col-md-6">
    <div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">contourPlot</span><span class="o">(</span><span class="n">data</span><span class="o">)</span>
        <span class="o">.</span><span class="py">frame</span><span class="o">()</span>
        <span class="o">.</span><span class="py">xLabel</span><span class="o">(</span><span class="s">"Lon"</span><span class="o">)</span>
        <span class="o">.</span><span class="py">yLabel</span><span class="o">(</span><span class="s">"Lat"</span><span class="o">)</span>
        <span class="o">.</span><span class="py">xbounds</span><span class="o">(-</span><span class="mf">71.2</span><span class="o">,</span> <span class="o">-</span><span class="mi">71</span><span class="o">)</span>
        <span class="o">.</span><span class="py">ybounds</span><span class="o">(</span><span class="mf">42.20</span><span class="o">,</span> <span class="mf">42.4</span><span class="o">)</span>
        <span class="o">.</span><span class="py">xAxis</span><span class="o">()</span>
        <span class="o">.</span><span class="py">yAxis</span><span class="o">()</span>
        <span class="o">.</span><span class="py">topPlot</span><span class="o">(</span><span class="nc">Histogram</span><span class="o">(</span><span class="nv">data</span><span class="o">.</span><span class="py">map</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">x</span><span class="o">)))</span>
        <span class="o">.</span><span class="py">rightPlot</span><span class="o">(</span><span class="nc">Histogram</span><span class="o">(</span><span class="nv">data</span><span class="o">.</span><span class="py">map</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">y</span><span class="o">)))</span>
        <span class="o">.</span><span class="py">render</span><span class="o">()</span>
</code></pre></div>    </div>
  </div>
<div class="col-md-6">
  <img src="/evilplot/img/docs/plots/sideplots.png" class="img-responsive" />
</div>
</div>

<h2 id="faceting">Faceting</h2>

<p>Plotting WiFi locations is helpful, but what if we have even more data that we want to compare and plot using the same
axis? EvilPlot’s faceting lets us compare several plots at the same time. Let’s grab data from
<a href="https://data.boston.gov/dataset/snow-emergency-parking">Snow Parking</a>,
<a href="https://data.boston.gov/dataset/tot-sprays">Water Playgrounds</a>,
and <a href="https://data.boston.gov/dataset/polling-locations-20171">Polling Locations</a> and compare their respective
contour plots. For the below example, load each of the CSVs into their
own <code class="highlighter-rouge">Seq[Point]</code> and add each of them into a <code class="highlighter-rouge">Seq[Seq[Point]]</code> called <code class="highlighter-rouge">allData</code> in order, so that WiFi is first, then
snow parking, then water playgrounds, then polling locations.</p>

<div class="row">
<div class="col-md-6">
    <div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Facets</span><span class="o">(</span>
    <span class="nc">Seq</span><span class="o">(</span><span class="nv">allData</span><span class="o">.</span><span class="py">take</span><span class="o">(</span><span class="mi">2</span><span class="o">).</span><span class="py">map</span><span class="o">(</span><span class="n">ps</span> <span class="k">=&gt;</span>
        <span class="nf">contourPlot</span><span class="o">(</span><span class="n">ps</span><span class="o">)</span>
          <span class="o">.</span><span class="py">topPlot</span><span class="o">(</span><span class="nc">Histogram</span><span class="o">(</span><span class="nv">ps</span><span class="o">.</span><span class="py">map</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">x</span><span class="o">)))</span>
          <span class="o">.</span><span class="py">rightPlot</span><span class="o">(</span><span class="nc">Histogram</span><span class="o">(</span><span class="nv">ps</span><span class="o">.</span><span class="py">map</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">y</span><span class="o">)))</span>
          <span class="o">.</span><span class="py">frame</span><span class="o">()),</span>
      <span class="nv">allData</span><span class="o">.</span><span class="py">takeRight</span><span class="o">(</span><span class="mi">2</span><span class="o">).</span><span class="py">map</span><span class="o">(</span><span class="n">ps</span> <span class="k">=&gt;</span>
        <span class="nf">contourPlot</span><span class="o">(</span><span class="n">ps</span><span class="o">)</span>
        <span class="o">.</span><span class="py">topPlot</span><span class="o">(</span><span class="nc">Histogram</span><span class="o">(</span><span class="nv">ps</span><span class="o">.</span><span class="py">map</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">x</span><span class="o">)))</span>
        <span class="o">.</span><span class="py">rightPlot</span><span class="o">(</span><span class="nc">Histogram</span><span class="o">(</span><span class="nv">ps</span><span class="o">.</span><span class="py">map</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">y</span><span class="o">)))</span>
        <span class="o">.</span><span class="py">frame</span><span class="o">()))</span>
  <span class="o">)</span>
    <span class="o">.</span><span class="py">topLabels</span><span class="o">(</span><span class="nc">Seq</span><span class="o">(</span><span class="s">"Family Outing"</span><span class="o">,</span> <span class="s">"Snowy Election"</span><span class="o">))</span>
    <span class="o">.</span><span class="py">xbounds</span><span class="o">(-</span><span class="mf">71.2</span><span class="o">,</span> <span class="o">-</span><span class="mi">71</span><span class="o">)</span>
    <span class="o">.</span><span class="py">ybounds</span><span class="o">(</span><span class="mf">42.1</span><span class="o">,</span> <span class="mf">42.4</span><span class="o">)</span>
    <span class="o">.</span><span class="py">xAxis</span><span class="o">(</span><span class="n">tickCount</span> <span class="k">=</span> <span class="nc">Some</span><span class="o">(</span><span class="mi">4</span><span class="o">))</span>
    <span class="o">.</span><span class="py">yAxis</span><span class="o">(</span><span class="n">tickCount</span> <span class="k">=</span> <span class="nc">Some</span><span class="o">(</span><span class="mi">4</span><span class="o">))</span>
    <span class="o">.</span><span class="py">render</span><span class="o">()</span>
</code></pre></div>    </div>
  </div>
<div class="col-md-6">
  <img src="/evilplot/img/docs/plots/facetedcontours.png" class="img-responsive" />
</div>
</div>

<p>Hopefully at this point we can start to draw some useful conclusions from our data. Interested in a low-key family outing?
Your best bet is to search in an area with a high density of both free WiFi and water playgrounds! Did the Boston winter hit a
little sooner than expected? No problem. Just look for a polling center near a highly dense emergency snow parking area.</p>

<p>These examples are a little contrived, but now you know how to start with a simple visual and compose more and more complexity
on top of it using plot combinators. We first saw that the base plot can be customized using <code class="highlighter-rouge">PlotRenderers</code>. After that
we saw how simple <code class="highlighter-rouge">Plot =&gt; Plot</code> combinators can add additional features piece-by-piece. Next, we saw that
“multilayer plots” are expressed in EvilPlot simply by applying <code class="highlighter-rouge">Overlay</code>, a function from <code class="highlighter-rouge">Seq[Plot] =&gt; Plot</code>.
Finally, we saw how we can build a multivariate, faceted display out of other plots easily, regardless of how
complicated the individual plots are.</p>

<p>But, we’re just getting started. Check out the <a href="plot-catalog.html">Plot Catalog</a> for awesome examples of what you can do
with EvilPlot. Or, read about the <a href="drawing-api.html">drawing API</a> for some background before venturing into writing your
own renderers, which is an easy way to make EvilPlot even more customizable.</p>
</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/evilplot/highlight/highlight.pack.js"></script><script src="/evilplot/lunr/lunr.js"></script><script>
// For all code blocks, copy the language from the containing div
// to the inner code tag (where hljs expects it to be)
const langPrefix = 'language-';
document.querySelectorAll(`div[class^='${langPrefix}']`).forEach(function(div) {
  div.classList.forEach(function(cssClass) {
    if (cssClass.startsWith(langPrefix)) {
      const lang = cssClass.substring(langPrefix.length);
      div.querySelectorAll('pre code').forEach(function(code) {
        code.classList.add(lang);
      });
    }
  });
});

hljs.configure({languages:['scala','java','bash']});
hljs.initHighlightingOnLoad();
      </script><script>console.info('\x57\x65\x62\x73\x69\x74\x65\x20\x62\x75\x69\x6c\x74\x20\x77\x69\x74\x68\x3a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x5f\x5f\x0a\x20\x20\x20\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x5f\x20\x20\x2f\x20\x2f\x5f\x20\x20\x20\x20\x20\x20\x5f\x5f\x5f\x5f\x20\x5f\x5f\x5f\x20\x20\x28\x5f\x29\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x28\x5f\x29\x20\x2f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x0a\x20\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x60\x5f\x5f\x20\x5c\x2f\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x20\x2f\x20\x5f\x5f\x2f\x20\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x0a\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x5f\x2f\x20\x2f\x20\x2f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x5f\x5f\x2f\x20\x2f\x20\x20\x2f\x20\x2f\x5f\x2f\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x20\x2f\x5f\x2f\x20\x20\x5f\x5f\x28\x5f\x5f\x20\x20\x29\x0a\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2e\x5f\x5f\x5f\x2f\x5c\x5f\x5f\x2f\x20\x20\x20\x20\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x2f\x20\x20\x20\x5c\x5f\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x0a\x0a\x68\x74\x74\x70\x73\x3a\x2f\x2f\x34\x37\x64\x65\x67\x2e\x67\x69\x74\x68\x75\x62\x2e\x69\x6f\x2f\x73\x62\x74\x2d\x6d\x69\x63\x72\x6f\x73\x69\x74\x65\x73')</script><script src="/evilplot/js/search.js"></script><script src="/evilplot/js/main.js"></script></body></html>